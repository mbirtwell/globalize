/*!
 * Globalize v1.0.0-alpha.16 2015-02-19T12:45Z Released under the MIT license
 * http://git.io/TrdQbw
 */
!function(a,b){"function"==typeof define&&define.amd?define(["cldr","../globalize","cldr/event","cldr/supplemental"],b):"object"==typeof exports?module.exports=b(require("cldrjs"),require("globalize")):b(a.Cldr,a.Globalize)}(this,function(a,b){var c=b._createError,d=b._objectExtend,e=b._regexpEscape,f=b._stringPad,g=b._validateCldr,h=b._validateDefaultLocale,i=b._validateParameterPresence,j=b._validateParameterRange,k=b._validateParameterType,l=b._validateParameterTypePlainObject,m=function(a){return c("E_UNSUPPORTED","Unsupported {feature}.",{feature:a})},n=function(a,b){k(a,b,void 0===a||"number"==typeof a,"Number")},o=function(a,b){k(a,b,void 0===a||"string"==typeof a,"a string")},p=function(a,b,c){var d,e=b,f="",g=",",h=c?!0:!1;for(a=String(a).split("."),d=a[0].length;d>e;)f=a[0].slice(d-e,d)+(f.length?g:"")+f,d-=e,h&&(e=c,h=!1);return a[0]=a[0].slice(0,d)+(f.length?g:"")+f,a.join(".")},q=function(a){return isNaN(a)?0/0:Math[0>a?"ceil":"floor"](a)},r=function(a,b,c,d,e,g){return d?(a=g?e(a,g):e(a,{exponent:-d}),c&&(a=String(a).split("."),a[1]=f(a[1]||"",c,!0),a=a.join("."))):a=q(a),a=String(a),b&&(a=a.split("."),a[0]=f(a[0],b),a=a.join(".")),a},s=function(a,b,c){var d;return a=a.toPrecision(b+2),d=Math.ceil(Math.log(Math.abs(a))/Math.log(10)),d-=b,c(a,{exponent:d})},t=function(a,b,c,d){var e,g;if(b>c&&(c=b),e=s(a,b,d),g=s(a,c,d),a=+e===+g?e:g,a=(+a).toString(10),/e/.test(a))throw m({feature:"integers out of (1e21, 1e-7)"});return b-a.replace(/^0+|\./g,"").length>0&&(a=a.split("."),a[1]=f(a[1]||"",b-a[0].replace(/^0+/,"").length,!0),a=a.join(".")),a},u=function(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o,q,s,u,v,w;return k=b[1],g=b[2],f=b[3],d=b[4],h=b[5],e=b[6],s=b[7],m=b[8],u=b[9],q=b[15],c=b[16],i=b[17],w=b[18],j=b[19],isNaN(a)?i:(0>a?(n=b[12],l=b[13],v=b[14]):(n=b[11],l=b[0],v=b[10]),isFinite(a)?(o=l,-1!==n.indexOf("%")?a*=100:-1!==n.indexOf("‰")&&(a*=1e3),a=isNaN(h*e)?r(a,g,f,d,q,s):t(a,h,e,q),a=a.replace(/^-/,""),m&&(a=p(a,m,u)),o+=a,o+=v,o.replace(/('([^']|'')+'|'')|./g,function(a,b){return b?(b=b.replace(/''/,"'"),b.length>2&&(b=b.slice(1,-1)),b):(a=a.replace(/[.,\-+E%\u2030]/,function(a){return w[a]}),j&&(a=a.replace(/[0-9]/,function(a){return j[+a]})),a)})):l+c+v)},v=function(a){var b=a.attributes["u-nu"];return b?("traditio"===b&&(b="traditional"),-1!==["native","traditional","finance"].indexOf(b)?a.main(["numbers/otherNumberingSystems",b]):b):a.main("numbers/defaultNumberingSystem")},w=function(a){var b,c=v(a);if("latn"!==c){if(b=a.supplemental(["numberingSystems",c]),"numeric"!==b._type)throw m("`"+b._type+"` numbering system");return b._digits}},x=/^(('[^']+'|''|[^*#@0,.E])*)(\*.)?((([#,]*[0,]*0+)(\.0*[0-9]*#*)?)|([#,]*@+#*))(E\+?0+)?(('[^']+'|''|[^*#@0,.E])*)$/,y=function(a){var b,c,d,e,f,g,h,i,j,k,l,n,o,p,q,r,s,t;if(a=a.match(x),!a)throw new Error("Invalid pattern: "+a);if(n=a[1],l=a[3],e=a[4],s=a[8],q=a[9],t=a[10],s?s.replace(/(@+)(#*)/,function(a,b,c){k=b.length,h=k+c.length}):(d=a[7],f=a[6],d&&(d.replace(/[0-9]+/,function(a){i=a}),i?(p=+("0."+i),i=i.length):i=0,g=d.length-1),f.replace(/0+$/,function(a){j=a.length})),q)throw m({feature:"scientific notation (not implemented)"});if(l)throw m({feature:"padding (not implemented)"});return-1!==(b=e.lastIndexOf(","))&&(c=e.split(".")[0],o=c.length-b-1,-1!==(c=e.lastIndexOf(",",b-1))&&(r=b-1-c)),[n,l,j,i,g,k,h,p,o,r,t]},z=function(a,b){return b.main(["numbers/symbols-numberSystem-"+v(b),a])},A={".":"decimal",",":"group","%":"percentSign","+":"plusSign","-":"minusSign",E:"exponential","‰":"perMille"},B=function(a){var b,c={};for(b in A)c[b]=z(A[b],a);return c},C=function(a){return a=a||"round",a="truncate"===a?q:Math[a],function(b,c){var d,e;if(b=+b,isNaN(b))return 0/0;if("object"==typeof c&&c.exponent){if(d=+c.exponent,e=1,0===d)return a(b);if("number"!=typeof d||d%1!==0)return 0/0}else{if(e=+c||1,1===e)return a(b);if(isNaN(e))return 0/0;e=e.toExponential().split("e"),d=+e[1],e=+e[0]}return b=b.toString().split("e"),b[0]=+b[0]/e,b[1]=b[1]?+b[1]-d:-d,b=a(+(b[0]+"e"+b[1])),b=b.toString().split("e"),b[0]=+b[0]*e,b[1]=b[1]?+b[1]+d:d,+(b[0]+"e"+b[1])}},D=function(a,b,c){function d(a,b){a in c&&(j[b]=c[a])}var e,f,g,h,i,j;return c=c||{},a=a.split(";"),i=a[0],e=a[1]||"-"+i,g=y(e),f=g[0],h=g[10],j=y(i).concat([i,f+i+h,f,h,C(c.round),z("infinity",b),z("nan",b),B(b),w(b)]),d("minimumIntegerDigits",2),d("minimumFractionDigits",3),d("maximumFractionDigits",4),d("minimumSignificantDigits",5),d("maximumSignificantDigits",6),c.useGrouping===!1&&(j[8]=null),"minimumFractionDigits"in c&&!("maximumFractionDigits"in c)?j[4]=Math.max(j[3],j[4]):!("minimumFractionDigits"in c)&&"maximumFractionDigits"in c&&(j[3]=Math.min(j[3],j[4])),j},E=/^([^0-9]*)(([0-9,]*[0-9]+)(\.[0-9]+)?)(E[+-]?[0-9]+)?([^0-9]*)$/,F=function(a,b){var c,d,f,g,h,i,j,k,l,m,n;if(d=b[0],g=b[1],j=b[2],k=b[3],f=b[4],c=a.match(d))l=1/0,m=a.slice(0,c.length),n=a.slice(c.length+1);else{if(i=new RegExp(Object.keys(g).map(function(a){return e(a)}).join("|"),"g"),a=a.replace(i,function(a){return g[a]}),f&&(h=new RegExp(Object.keys(f).map(function(a){return e(a)}).join("|"),"g"),a=a.replace(h,function(a){return f[a]})),a=a.match(E),!a)return 0/0;if(m=a[1],n=a[6],l=a[2].replace(/,/g,""),a[5]&&(l+=a[5]),l=+l,isNaN(l))return 0/0;-1!==a[0].indexOf("%")?(l/=100,n=n.replace("%","")):-1!==a[0].indexOf("‰")&&(l/=1e3,n=n.replace("‰",""))}return m===j&&n===k&&(l*=-1),l},G=function(a){var b,c={};for(b in A)c[z(A[b],a)]=b;return c},H=function(a,b){var c,e,f,g,h=w(b);return a=a.split(";"),f=a[1]||"-"+a[0],g=y(f),h&&(c=h.split("").reduce(function(a,b,c){return a[b]=String(c),a},{}),e="0123456789".split("").reduce(function(a,b){return a[b]="invalid",a},{}),c=d(e,c)),[z("infinity",b),d({},A,G(b)),g[0],g[10].replace("%","").replace("‰",""),c]},I=function(a,b){if("decimal"!==a&&"percent"!==a)throw new Error("Invalid style");return b.main(["numbers",a+"Formats-numberSystem-"+v(b),"standard"])};return b.numberFormatter=b.prototype.numberFormatter=function(a){var b,c,d,e,f,k,m,o;if(l(a,"options"),a=a||{},b=this.cldr,h(b),b.on("get",g),m=a.pattern?a.pattern:I(a.style||"decimal",b),o=D(m,b,a),b.off("get",g),f=o[2],e=o[3],c=o[4],k=o[5],d=o[6],isNaN(k*d)){if(!isNaN(k)||!isNaN(d))throw new Error("Neither or both the minimum and maximum significant digits must be present");j(f,"minimumIntegerDigits",1,21),j(e,"minimumFractionDigits",0,20),j(c,"maximumFractionDigits",e,20)}else j(k,"minimumSignificantDigits",1,21),j(d,"maximumSignificantDigits",k,21);return function(a){return i(a,"value"),n(a,"value"),u(a,o)}},b.numberParser=b.prototype.numberParser=function(a){var b,c,d;return l(a,"options"),a=a||{},b=this.cldr,h(b),b.on("get",g),c=a.pattern?a.pattern:I(a.style||"decimal",b),d=H(c,b),b.off("get",g),function(a){return i(a,"value"),o(a,"value"),F(a,d)}},b.formatNumber=b.prototype.formatNumber=function(a,b){return i(a,"value"),n(a,"value"),this.numberFormatter(b)(a)},b.parseNumber=b.prototype.parseNumber=function(a,b){return i(a,"value"),o(a,"value"),this.numberParser(b)(a)},b._createErrorUnsupportedFeature=m,b._numberNumberingSystem=v,b._numberPattern=I,b._numberSymbol=z,b._stringPad=f,b._validateParameterTypeNumber=n,b._validateParameterTypeString=o,b});